<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Vendor\Util; use ModStart\Core\Exception\BizException; class ContentUtil { public static function parseEditorPlusContent($n3GvS) { goto WwQfN; KNU0p: $RryBq = array(); goto gl2Lz; TUUSK: if (is_string($n3GvS) && starts_with($n3GvS, '[')) { $n3GvS = @json_decode($n3GvS, true); } goto KNU0p; dkY88: return $RryBq; goto AGBUD; gl2Lz: foreach ($n3GvS as $Fay2L) { BizException::throwsIf('内容格式错误', empty($Fay2L['type'])); switch ($Fay2L['type']) { case 'text': goto v3_sQ; H1w7k: break; goto QuSaZ; CJ_Jc: $RryBq[] = array('type' => $Fay2L['type'], 'data' => array('content' => $Fay2L['data']['content'])); goto H1w7k; xLZoc: BizException::throwsIf('内容格式错误', !is_string($Fay2L['data']['content'])); goto CJ_Jc; v3_sQ: BizException::throwsIf('内容格式错误', empty($Fay2L['data']['content'])); goto xLZoc; QuSaZ: case 'image': goto vfFQT; ldPQe: BizException::throwsIf('内容格式错误', !is_string($Fay2L['data']['image'])); goto LBkYE; LBkYE: $RryBq[] = array('type' => $Fay2L['type'], 'data' => array('image' => $Fay2L['data']['image'])); goto roPhy; vfFQT: BizException::throwsIf('内容格式错误', empty($Fay2L['data']['image'])); goto ldPQe; roPhy: break; goto QeOtD; QeOtD: case 'images': goto C3sTK; r4E4w: BizException::throwsIf('内容格式错误', !is_array($Fay2L['data']['images'])); goto fLTzV; C3sTK: BizException::throwsIf('内容格式错误', empty($Fay2L['data']['images'])); goto r4E4w; SGUY3: break; goto ICPjH; fLTzV: $nfPCQ = array(); goto b5fsE; SuerI: $RryBq[] = array('type' => $Fay2L['type'], 'data' => array('images' => $nfPCQ)); goto SGUY3; b5fsE: foreach ($Fay2L['data']['images'] as $oR9zy) { BizException::throwsIf('内容格式错误', !is_string($oR9zy)); $nfPCQ[] = $oR9zy; } goto SuerI; ICPjH: } } goto dkY88; WwQfN: if (is_string($n3GvS)) { $n3GvS = trim($n3GvS); } goto TUUSK; AGBUD: } }