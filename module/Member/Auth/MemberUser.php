<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Member\Auth; use Illuminate\Support\Facades\Session; use Module\Member\Util\MemberGroupUtil; use Module\Member\Util\MemberUtil; use Module\Member\Util\MemberVipUtil; class MemberUser { public static function id() { return intval(Session::get('memberUserId', 0)); } public static function user() { return Session::get('_memberUser', null); } public static function isMine($tJ6XI) { return self::id() > 0 && self::id() == $tJ6XI; } public static function isNotMine($tJ6XI) { return !self::isMine($tJ6XI); } public static function isLogin() { return self::id() > 0; } public static function isNotLogin() { return !self::isLogin(); } public static function isGroup($qRoWl) { goto olsDw; uPHPR: return in_array($AoMnT, $qRoWl); goto ayo8i; t6ymg: if (!is_array($qRoWl)) { $qRoWl = array(intval($qRoWl)); } goto oxEUB; oxEUB: $AoMnT = intval(self::get('groupId', 0)); goto YVE6C; olsDw: if (self::isNotLogin()) { return false; } goto t6ymg; YVE6C: if ($AoMnT == 0) { $AoMnT = MemberGroupUtil::defaultGroupId(); } goto uPHPR; ayo8i: } public static function isVip($X0ZF5) { goto i55dT; o1Zwf: $Gl_x4 = MemberVipUtil::getMemberVip(self::user()); goto BQgya; vChix: if (!is_array($X0ZF5)) { $X0ZF5 = array(intval($X0ZF5)); } goto o1Zwf; BQgya: $ybqNI = 0; goto vypEz; vypEz: if (!empty($Gl_x4)) { $ybqNI = $Gl_x4['id']; } goto DXeMR; DXeMR: return in_array($ybqNI, $X0ZF5); goto Ivhhn; i55dT: if (self::isNotLogin()) { return false; } goto vChix; Ivhhn: } public static function get($Cc2wA = null, $yiNQ6 = null) { goto V30Bq; jAhhh: return isset($t9mtn[$Cc2wA]) ? $t9mtn[$Cc2wA] : $yiNQ6; goto c004z; lbWlc: if (null === $Cc2wA) { return $t9mtn; } goto jAhhh; V30Bq: $t9mtn = self::user(); goto lbWlc; c004z: } public static function nickname() { return MemberUtil::viewName(self::user()); } }