<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Member\Util; use ModStart\Core\Dao\ModelUtil; class MemberAddressUtil { public static function getUserAddress($tJ6XI, $vWdBd) { goto SCb0f; SCb0f: $He0J8 = ModelUtil::get('member_address', array('id' => $vWdBd, 'memberUserId' => $tJ6XI)); goto rW5Vq; rW5Vq: ModelUtil::decodeRecordBoolean($He0J8, array('isDefault')); goto LEFP1; LEFP1: return $He0J8; goto F8DQX; F8DQX: } public static function listUserAddresses($tJ6XI) { goto GwQzd; pbWjL: ModelUtil::decodeRecordsBoolean($EnI2D, array('isDefault')); goto zRGwc; zRGwc: return $EnI2D; goto rSBcZ; GwQzd: $EnI2D = ModelUtil::model('member_address')->where(array('memberUserId' => $tJ6XI))->orderBy('id', 'desc')->orderBy('isDefault', 'desc')->get()->toArray(); goto pbWjL; rSBcZ: } public static function delete($vWdBd) { ModelUtil::delete('member_address', array('id' => $vWdBd)); } public static function resetDefault($tJ6XI) { ModelUtil::update('member_address', array('memberUserId' => $tJ6XI), array('isDefault' => false)); } public static function update($vWdBd, $XWlC_) { return ModelUtil::update('member_address', array('id' => $vWdBd), $XWlC_); } public static function insert($XWlC_) { return ModelUtil::insert('member_address', $XWlC_); } public static function getDefault($tJ6XI) { goto zsS3j; J6nQf: return $cGOPK; goto XBub8; zsS3j: $cGOPK = ModelUtil::get('member_address', array('memberUserId' => $tJ6XI, 'isDefault' => true)); goto I8_eX; I8_eX: if (empty($cGOPK)) { $cGOPK = ModelUtil::get('member_address', array('memberUserId' => $tJ6XI)); } goto J6nQf; XBub8: } public static function clearDefault($tJ6XI) { ModelUtil::update('member_address', array('memberUserId' => $tJ6XI), array('isDefault' => false)); } public static function truncate($tJ6XI) { ModelUtil::delete('member_address', array('memberUserId' => $tJ6XI)); } }