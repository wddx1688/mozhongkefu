<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Core\Config; use ModStart\Core\Util\SerializeUtil; abstract class MConfig { public abstract function get($cANPj, $bX2xJ = '', $OE2mE = true); public abstract function set($cANPj, $VuXfH); public abstract function remove($cANPj); public abstract function has($cANPj); public abstract function all($OFAbu = null); public function getWithEnv($cANPj, $bX2xJ = null) { goto qPT3H; qPT3H: $VuXfH = config('env.CONFIG_' . $cANPj); goto KLHO4; Z8TTk: return $VuXfH; goto V1tDz; S212B: if (empty($VuXfH)) { return $bX2xJ; } goto Z8TTk; KLHO4: if (null === $VuXfH) { $VuXfH = $this->get($cANPj); } goto S212B; V1tDz: } public function setArray($cANPj, $VuXfH) { $this->set($cANPj, SerializeUtil::jsonEncode($VuXfH)); } public function getArray($cANPj, $bX2xJ = array(), $OE2mE = true) { goto PLHKB; n0Vco: if (!is_array($VuXfH) || empty($VuXfH)) { $VuXfH = array(); } goto cIUVg; cIUVg: return $VuXfH; goto GRoQ5; NBDMS: $VuXfH = @json_decode($VuXfH, true); goto n0Vco; PLHKB: $VuXfH = $this->get($cANPj, SerializeUtil::jsonEncode($bX2xJ), $OE2mE); goto NBDMS; GRoQ5: } public function getBoolean($cANPj, $bX2xJ = false) { goto Y5IgV; Y5IgV: $VuXfH = $this->get($cANPj, null); goto Xfy8H; Xfy8H: if (null === $VuXfH) { return $bX2xJ; } goto nMGpJ; nMGpJ: return $VuXfH ? true : false; goto yXswS; yXswS: } public function getInteger($cANPj, $bX2xJ = 0) { goto L7XCQ; L7XCQ: $VuXfH = $this->get($cANPj, null); goto bAT04; GIJI9: return intval($VuXfH); goto XRu_b; bAT04: if (null === $VuXfH) { return $bX2xJ; } goto GIJI9; XRu_b: } public function getString($cANPj, $bX2xJ = '') { goto fXxVd; vN8Rq: if (null === $VuXfH) { return $bX2xJ; } goto FVpRL; fXxVd: $VuXfH = $this->get($cANPj, null); goto vN8Rq; FVpRL: return '' . $VuXfH; goto i5ZaI; i5ZaI: } }