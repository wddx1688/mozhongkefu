<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Core\Provider; trait ProviderTrait { public static function register($xqqfG) { self::$list[] = $xqqfG; } public static function listAll() { goto Vq8TD; gnwSo: $L7a2u = true; goto MBL7S; FeuWt: $T0vsE = false; goto jTQ8X; MxnUo: if ($L7a2u) { return self::$list; } goto FeuWt; Vq8TD: static $L7a2u = false; goto MxnUo; MBL7S: return self::$list; goto prxOg; jTQ8X: foreach (self::$list as $dKmL2 => $yFWLi) { if ($yFWLi instanceof \Closure) { self::$list[$dKmL2] = call_user_func($yFWLi); } else { if (is_string($yFWLi)) { self::$list[$dKmL2] = app($yFWLi); } } if (!$T0vsE && method_exists(self::$list[$dKmL2], 'order')) { $T0vsE = true; } } goto xbYT8; xbYT8: if ($T0vsE) { @usort(self::$list, function ($SBMxa, $AtZdt) { if ($SBMxa->order() == $AtZdt->order()) { return 0; } return $SBMxa->order() > $AtZdt->order() ? 1 : -1; }); } goto gnwSo; prxOg: } public static function allMap() { return array_build(self::listAll(), function ($dKmL2, $yFWLi) { return array($yFWLi->name(), $yFWLi->title()); }); } public static function allDefaultMap() { return array_merge(array('' => L('None')), array_build(self::listAll(), function ($dKmL2, $yFWLi) { return array($yFWLi->name(), $yFWLi->title()); })); } public static function isEmpty() { return empty(self::$list); } public static function getByName($HQ4FM) { foreach (self::listAll() as $DUr2V) { if ($DUr2V->name() == $HQ4FM) { return $DUr2V; } } return null; } public static function first() { foreach (self::listAll() as $DUr2V) { return $DUr2V; } return null; } }