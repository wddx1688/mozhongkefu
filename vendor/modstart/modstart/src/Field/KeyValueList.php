<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Field; use ModStart\Core\Util\SerializeUtil; class KeyValueList extends AbstractField { protected $width = 300; protected $listable = false; protected function setup() { $this->addVariables(array('keyTitle' => L('Key'), 'valueTitle' => L('Value'), 'keyPlaceholder' => L('Please Input'), 'valuePlaceholder' => L('Please Input'), 'keyLabel' => 'k', 'valueLabel' => 'v')); } public function keyPlaceholder($VuXfH) { $this->addVariables(array('keyPlaceholder' => $VuXfH)); return $this; } public function valuePlaceholder($VuXfH) { $this->addVariables(array('valuePlaceholder' => $VuXfH)); return $this; } public function keyTitle($VuXfH) { $this->addVariables(array('keyTitle' => $VuXfH)); return $this; } public function valueTitle($VuXfH) { $this->addVariables(array('valueTitle' => $VuXfH)); return $this; } public function keyLabel($ibq5K) { $this->addVariables(array('keyLabel' => $ibq5K)); return $this; } public function valueLabel($u9219) { $this->addVariables(array('valueLabel' => $u9219)); return $this; } public function unserializeValue($VuXfH, AbstractField $dBa7F) { goto C27U5; C27U5: if (null === $VuXfH) { return $VuXfH; } goto nBAoN; k8_4q: if (empty($VuXfH)) { $VuXfH = array(); } goto wv6wX; wv6wX: return $VuXfH; goto kOBhs; nBAoN: $VuXfH = @json_decode($VuXfH, true); goto k8_4q; kOBhs: } public function serializeValue($VuXfH, $Wa8N4) { return SerializeUtil::jsonEncode($VuXfH); } public function prepareInput($VuXfH, $Wa8N4) { goto FjRUm; FjRUm: $VuXfH = @json_decode($VuXfH, true); goto HxmuC; HxmuC: if (empty($VuXfH)) { $VuXfH = array(); } goto VhOPF; VhOPF: return $VuXfH; goto emT2F; emT2F: } }