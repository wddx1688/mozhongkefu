<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Field; use ModStart\Core\Exception\BizException; class Currency extends AbstractField { protected $view = 'modstart::core.field.number'; protected $rules = array('regex:/^\\d+(\\.\\d+)?$/i'); protected function setup() { $this->addVariables(array('autoColor' => false, 'signShow' => false, 'min' => null, 'max' => null, 'step' => null)); } public function min($VuXfH) { $this->setVariable('min', $VuXfH); return $this; } public function max($VuXfH) { $this->setVariable('max', $VuXfH); return $this; } public function step($VuXfH) { $this->setVariable('step', $VuXfH); return $this; } public function autoColor($VuXfH) { $this->setVariable('autoColor', $VuXfH); return $this; } public function signShow($VuXfH) { $this->setVariable('signShow', $VuXfH); return $this; } public function unserializeValue($VuXfH, AbstractField $dBa7F) { if ('' === $VuXfH || null === $VuXfH) { return null; } return $VuXfH; } public function serializeValue($VuXfH, $Wa8N4) { if ('' === $VuXfH || null === $VuXfH) { return null; } return $VuXfH; } public function prepareInput($VuXfH, $Wa8N4) { goto FeuY3; ha2kS: return $VuXfH; goto Iulz1; xp9RQ: if (null !== ($yFWLi = $this->getVariable('min'))) { if ($VuXfH < $yFWLi) { BizException::throws(str_replace(array(':attribute', ':min'), array($this->label, $yFWLi), L('validation.min.numeric'))); } } goto x8c1G; FeuY3: if ('' === $VuXfH || null === $VuXfH) { return null; } goto xp9RQ; x8c1G: if (null !== ($yFWLi = $this->getVariable('max'))) { if ($VuXfH > $yFWLi) { BizException::throws(str_replace(array(':attribute', ':max'), array($this->label, $yFWLi), L('validation.max.numeric'))); } } goto ha2kS; Iulz1: } }