<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Field; use ModStart\Core\Util\ConvertUtil; use Module\Vendor\Markdown\MarkdownUtil; class Html extends AbstractField { protected $html = ''; protected $plain = false; protected $isLayoutField = true; public function html($irW2y) { $this->html = $irW2y; return $this; } public function htmlContent($irW2y) { $this->html = '<div class="ub-html">' . $irW2y . '</div>'; return $this; } public function htmlContentFromMarkdown($MacoO) { goto aw6qK; aw6qK: $irW2y = MarkdownUtil::convertToHtml($MacoO); goto nm9N6; nm9N6: $this->html = '<div class="ub-html">' . $irW2y . '</div>'; goto szB5_; szB5_: return $this; goto tWQqa; tWQqa: } public function htmlPlain($irW2y) { goto FKsjv; cNcIO: $this->plain = true; goto Dg5Pv; FKsjv: $this->html = $irW2y; goto cNcIO; Dg5Pv: return $this; goto ngWpd; ngWpd: } public function plain($eJ6VT = true) { $this->plain = $eJ6VT; return $this; } public function render() { goto HayTN; HayTN: if ($this->html instanceof \Closure) { $this->html = ConvertUtil::render($this->html->call($this->variables(), $this->context)); } goto QI5UC; gbvyB: $ueQYS = $this->label ? $this->label . ':' : ''; goto cI9MI; cI9MI: return "<div class=\"line\">\n    <div class=\"label\">\n        {$ZTJLc}\n        {$ueQYS}\n    </div>\n    <div class=\"field\">\n        {$this->html}\n    </div>\n</div>"; goto qjJqj; Mednq: $UgWZQ = $this->rules(); goto s3tZh; QI5UC: if ($this->plain) { return $this->html; } goto Mednq; s3tZh: $ZTJLc = in_array('required', $UgWZQ) ? '<span class="ub-text-danger ub-text-bold">*</span>' : ''; goto gbvyB; qjJqj: } }