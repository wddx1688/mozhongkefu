<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Grid\Filter; use ModStart\Core\Dao\ModelUtil; use ModStart\Core\Util\TreeUtil; class Eq extends AbstractFilter { public function cascader($iVFbz) { goto OJwUi; OJwUi: $this->field = new Field\Cascader($this); goto y6HOj; lW92x: return $this; goto YUY30; y6HOj: $this->field->options($iVFbz); goto lW92x; YUY30: } public function select($iVFbz) { goto mTH0G; Fe0bK: $this->field->options($iVFbz); goto zzXtW; zzXtW: return $this; goto oOA52; mTH0G: $this->field = new Field\Select($this); goto Fe0bK; oOA52: } public function selectArray($iVFbz, $GYMeL = 'id', $trsu0 = 'title') { $iVFbz = array_build($iVFbz, function ($dKmL2, $yFWLi) use($GYMeL, $trsu0) { return array($yFWLi[$GYMeL], $yFWLi[$trsu0]); }); return $this->select($iVFbz); } public function selectModel($R3agm, $PkGEp = 'id', $HamKI = 'name', $kNTjB = array()) { return $this->select(ModelUtil::valueMap($R3agm, $PkGEp, $HamKI, $kNTjB)); } public function selectLevelItems($c0PBf, $GYMeL = 'id', $trsu0 = 'title', $WmEKP = 0) { goto kwHqa; POaDL: foreach ($c0PBf as $qsK6T => $DUr2V) { if ($WmEKP > 0) { if ($DUr2V->_level > $WmEKP - 1) { continue; } } $iVFbz[$DUr2V->{$GYMeL}] = TreeUtil::itemLevelPrefix($DUr2V->_level) . $DUr2V->{$trsu0}; } goto LZ8Gh; kwHqa: $iVFbz = array(); goto kp7yN; LZ8Gh: return $this->select($iVFbz); goto Cx1iZ; kp7yN: $iVFbz[0] = L('Root'); goto POaDL; Cx1iZ: } public function selectModelTree($R3agm, $GYMeL = 'id', $Liw_V = 'pid', $trsu0 = 'title', $qoMM9 = 'sort', $kNTjB = array()) { goto BQct4; BQct4: $c0PBf = ModelUtil::autoModel($R3agm)->where($kNTjB)->get(array($GYMeL, $Liw_V, $trsu0, $qoMM9)); goto knfPa; knfPa: $c0PBf = TreeUtil::itemsMergeLevel($c0PBf, $GYMeL, $Liw_V, $qoMM9); goto UB3p0; UB3p0: return $this->selectLevelItems($c0PBf, $GYMeL, $trsu0); goto KVicd; KVicd: } public function radio($iVFbz) { goto nBW2s; J3MrV: $this->field->options($iVFbz); goto S0HKo; nBW2s: $this->field = new Field\Radio($this); goto J3MrV; S0HKo: return $this; goto SYb0g; SYb0g: } public function switchRadioYesNo() { goto ZaV3O; Fkb7U: return $this; goto GMAdl; qGy7A: $this->field->options(array('0' => L('No'), '1' => L('Yes'))); goto Fkb7U; ZaV3O: $this->field = new Field\Radio($this); goto qGy7A; GMAdl: } public function switchRadioOnOff() { goto mkwEc; mkwEc: $this->field = new Field\Radio($this); goto H0KDR; H0KDR: $this->field->options(array('0' => L('Off'), '1' => L('On'))); goto P64tq; P64tq: return $this; goto kG6D4; kG6D4: } public function switchSelectYesNo() { goto kKf_I; kKf_I: $this->field = new Field\Select($this); goto Zpqp4; igLGr: return $this; goto Ee1p1; Zpqp4: $this->field->options(array('0' => L('No'), '1' => L('Yes'))); goto igLGr; Ee1p1: } public function switchSelectOnOff() { goto OKSK9; YnbxQ: $this->field->options(array('0' => L('Off'), '1' => L('On'))); goto MokIh; MokIh: return $this; goto ebk2N; OKSK9: $this->field = new Field\Select($this); goto YnbxQ; ebk2N: } }