<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace ModStart\Layout; use ModStart\Core\Util\IdUtil; use ModStart\Core\Util\SerializeUtil; use ModStart\Field\AbstractField; class LayoutTab extends AbstractField { protected $isLayoutField = true; private $layoutClosure = null; private $tabTitles = array(); public function __construct($hB9j0) { parent::__construct(IdUtil::generate('LayoutTab')); $this->layoutClosure = $hB9j0; } public function postSetup() { goto Ttjxx; NXX1I: call_user_func($this->layoutClosure, $this); goto cC9v4; Ttjxx: $this->context->html($this->column() . '_end')->html('<div data-layout-tab="' . $this->column() . '"><div class="ub-nav-tab"></div><div>')->plain(); goto NXX1I; n3MAO: $rDQnO = "<script>\n\$(function(){\n    var tab = \$('[data-layout-tab={$NS5_3}]');\n    tab.find('.ub-nav-tab').html({$SC6gt});\n    var tabAs = tab.find('.ub-nav-tab > a');\n    var active = function(index){\n        tabAs.removeClass('active').eq(index).addClass('active');\n        tab.find('.ub-nav-tab-body').addClass('hidden').eq(index).removeClass('hidden');\n    };\n    active(0);\n    tab.on('click','a',function(){\n        active(tabAs.index(this));\n    });\n});\n</script>"; goto nsJEy; cC9v4: $SC6gt = array_map(function ($iqgWB) { return '<a href="javascript:;">' . $iqgWB . '</a>'; }, $this->tabTitles); goto evNmI; D0MYA: $NS5_3 = $this->column(); goto n3MAO; nsJEy: $this->context->html($this->column() . '_end')->html('</div></div>' . $rDQnO)->plain(); goto Jtr3d; evNmI: $SC6gt = SerializeUtil::jsonEncode(join('', $SC6gt)); goto D0MYA; Jtr3d: } public function tab($iqgWB, $hB9j0) { goto pwk1f; CNjso: $this->context->html($this->column() . '_end')->html('</div>')->plain(); goto UvMHY; pwk1f: $this->tabTitles[] = $iqgWB; goto xucvt; OGzok: call_user_func($hB9j0, $this->context); goto CNjso; xucvt: $this->context->html($this->column() . '_end')->html('<div class="ub-nav-tab-body hidden">')->plain(); goto OGzok; UvMHY: } public function render() { return ''; } }